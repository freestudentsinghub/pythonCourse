# Курсовой проект 1

## Веб-страницы

### Главная

В модуле views.py написанны функции и эти функции мы собираем в одну большую в модуле main.py
и таким образом получаем готовую функцию для веб-сайтов, которая:

принимает на вход строку с датой и временем в формате YYYY-MM-DD HH:MM:SS и возвращающую JSON-ответ 
со следующими данными:

1.Приветствие в формате "???", где ??? — «Доброе утро» / «Добрый день» / «Добрый вечер» / 
«Доброй ночи» в зависимости от текущего времени.

2.По каждой карте:
последние 4 цифры карты;
общая сумма расходов;
кешбэк (1 рубль на каждые 100 рублей).

3.Топ-5 транзакций по сумме платежа.

4.Курс валют.

5.Стоимость акций из S&P500.

За пункт 1 в модуле views.py отвечает функция get_greeting(). Она определяет время суток 
на основе переданной даты и времени. 
За пункт 2 отвечает функция for_each_card(). Она выводит По каждой карте:
последние 4 цифры карты; общая сумма расходов; кешбэк (1 рубль на каждые 100 рублей).
За пункт 3 отвечает функциия top_transactions_by_payment_amount(). Она выодит Топ-5 транзакций по сумме платежа.
За пункт 4 отвечает функции currency_rates_usd() и currency_rates_eur(). они выводят курс валют
за пункт 5 отвечает функция get_stock_prices(). Она отвечает за получение стоимости акций по списку символов компаний


## Сервисы

### Простой поиск

В модуле services.py написана функция simple_search(). 
Она выполняет поиск и возвращает JSON-ответ со всеми транзакциями, содержащими запрос в описании или категории. 

## Отчеты

### Траты по категории

В модуле reports.py выполнена функция отчета report_to_file_default(). 
Она возвращает траты по заданной категории за последние три месяца (от переданной даты).
И специальный декоратор report_to_file_default() записывает результат функции в файл reports_file.txt

# Тесты

Все тесты выполнены в папке tests.

Модуль test_reports.py отвечает за тестирование функции отчетов

Модуль test_views.py отвечает за тестирование функций для главной функции

Модуль test_utils.py отвечает за тестирование вспомогательных функций

Модуль test_services.py отвечает за тестирование функции сервиса

## Остальное

В модуле utils.py написанны вспомогательные функции, такие как чтение excel файла, и функций которые
достают из файла данные о 'пользовательских настройках' для курса валют и для стоимости акций

Файл .env, в нем лежит ключ для api

Файл .flake8 отвечает за настройку линтера flake8

Файл .gitignore отвечает за то чтобы мы не закомитили ненужные файлы

Файл user_settings.json в нем хранятся пользовательские настройки

Файлы poetry.lock, pyproject.toml отвечают за управление зависимостями в проект

